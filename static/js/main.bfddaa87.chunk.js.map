{"version":3,"sources":["components/recipeViews/recipeShowTitle.jsx","components/stars.jsx","constants/stars.js","components/recipeViews/recipeShowHeader.jsx","components/recipeViews/recipeShowRichText.jsx","components/starRow.jsx","components/recipes.jsx","components/categories.jsx","authProvider.js","App.jsx","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","text","fontWeight","alignContent","fontSize","root","RecipeShowTitle","props","classes","record","className","title","Stars","rating","this","whiteStars","blackStars","Number","Array","map","PureComponent","float","width","paddingBlock","RecipeShowHeader","servings","duration_free","label","display","marginBottom","RecipeShowRichText","source","getLabel","RichTextField","StarRow","PostTitle","validateRating","number","minValue","maxValue","RecipeFilter","Filter","TextInput","alwaysOn","ReferenceInput","reference","allowEmpty","SelectInput","optionText","PostPagination","Pagination","rowsPerPageOptions","RecipeList","List","filters","bulkActionButtons","perPage","pagination","Datagrid","rowClick","TextField","NumberField","ReferenceField","RecipeShow","Show","SimpleShowLayout","toolbarOptions","list","indent","direction","size","color","background","font","align","RecipeForm","SimpleForm","NumberInput","validate","toolbar","RecipeEdit","Edit","RecipeCreate","Create","CategoryCreate","CategoryList","CategoryEdit","CategoryShow","DateField","login","username","password","Promise","reject","localStorage","setItem","window","location","reload","resolve","logout","removeItem","checkError","status","checkAuth","getItem","getPermissions","preAuthDataProvider","getList","data","getOne","getMany","getManyReference","create","update","updateMany","delete","deleteMany","App","state","dataProvider","key","setState","headers","client","ApolloClient","uri","buildHasuraProvider","newDataProvider","Admin","authProvider","Resource","name","show","edit","icon","MenuBookIcon","CategoryIcon","Component","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.bfddaa87.chunk.js","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  text: {\n    fontWeight: 'bold',\n    alignContent: 'center',\n    fontSize: '2rem',\n  },\n  root: {\n    'text-align': 'center',\n  },\n})\n\nconst RecipeShowTitle = (props) => {\n  const classes = useStyles()\n  const { record } = props\n  return (\n    <div className={classes.root}>\n      <span className={classes.text}>{record.title}</span>\n    </div>\n  )\n}\n\nexport default RecipeShowTitle\n","import React, { PureComponent } from 'react'\nimport { MAX_STARS } from '../constants/stars'\n\nclass Stars extends PureComponent {\n  render() {\n    const { rating } = this.props\n    let whiteStars = MAX_STARS\n    let blackStars = 0\n    if (rating) {\n      whiteStars = MAX_STARS - Number(rating)\n      blackStars = rating > MAX_STARS ? MAX_STARS : rating\n    }\n    if (whiteStars < 0) {\n      whiteStars = 0\n    }\n    return rating ? (\n      <span>\n        {[...Array(blackStars)].map(() => (\n          <span>★</span>\n        ))}\n        {[...Array(whiteStars)].map(() => (\n          <span>☆</span>\n        ))}\n      </span>\n    ) : (\n      ''\n    )\n  }\n}\n\nexport default Stars\n","export const MAX_STARS = 5","/* eslint-disable camelcase */\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Stars from '../stars'\n\nconst useStyles = makeStyles({\n  'text-left': {\n    float: 'left',\n    'text-align': 'left',\n    width: '33%',\n  },\n  'text-center': {\n    float: 'left',\n    'text-align': 'center',\n    width: '34%',\n  },\n  'text-right': {\n    float: 'left',\n    'text-align': 'right',\n    width: '33%',\n  },\n  root: {\n    paddingBlock: '3rem',\n  },\n})\n\nconst RecipeShowHeader = (props) => {\n  const classes = useStyles()\n  const { record } = props\n  const { rating, servings, duration_free } = record\n  return (\n    <div className={classes.root}>\n      <span className={classes['text-left']}>\n        <Stars rating={rating} />\n      </span>\n      <span className={classes['text-center']}>{servings} servings</span>\n      <span className={classes['text-right']}>{duration_free}</span>\n    </div>\n  )\n}\n\nexport default RecipeShowHeader\n","import React from 'react'\nimport { RichTextField } from 'react-admin'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  label: {\n    fontWeight: 'bold',\n    fontSize: '1.25rem',\n    display: 'block',\n    marginBottom: '0.75rem',\n  },\n  root: {\n    paddingBlock: '1rem',\n  },\n})\n\nconst getLabel = (source) => (source === 'ingredients' ? 'Ingredients' : 'Directions')\n\nconst RecipeShowRichText = (props) => {\n  const classes = useStyles()\n  const { source } = props\n  return (\n    <div className={classes.root}>\n      <span className={classes.label}>{getLabel(source)}</span>\n      <RichTextField source {...props} />\n    </div>\n  )\n}\n\nexport default RecipeShowRichText\n","import React, { PureComponent } from 'react'\nimport Stars from './stars'\n\nclass StarRow extends PureComponent {\n  render() {\n    const { record } = this.props\n    const { rating } = record\n    return <Stars rating={rating} />\n  }\n}\n\nexport default StarRow\n","import { makeStyles } from '@material-ui/core/styles'\nimport React from 'react'\nimport {\n  minValue,\n  maxValue,\n  number,\n  ReferenceField,\n  Filter,\n  SelectInput,\n  ReferenceInput,\n  Show,\n  NumberInput,\n  RichTextField,\n  ShowView,\n  SimpleShowLayout,\n  Create,\n  Edit,\n  TextInput,\n  SimpleForm,\n  NumberField,\n  List,\n  Datagrid,\n  TextField,\n  Pagination,\n} from 'react-admin'\nimport RichTextInput from 'ra-input-rich-text'\nimport styles from './recipes.css'\nimport RecipeShowTitle from './recipeViews/recipeShowTitle'\nimport RecipeShowHeader from './recipeViews/recipeShowHeader'\nimport RecipeShowRichText from './recipeViews/recipeShowRichText'\nimport StarRow from './starRow'\n\nconst PostTitle = ({ record }) => {\n  return <span>{record ? `${record.title}` : ''}</span>\n}\nconst validateRating = [number(), minValue(1), maxValue(5)]\n\nconst RecipeFilter = (props) => (\n  <Filter {...props}>\n    <TextInput label=\"Search titles\" source=\"title\" alwaysOn />\n    <TextInput label=\"Search ingredients\" source=\"ingredients\" alwaysOn />\n    <ReferenceInput label=\"Category\" source=\"category_id\" reference=\"categories\" allowEmpty>\n      <SelectInput optionText=\"name\" />\n    </ReferenceInput>\n  </Filter>\n)\n\nconst PostPagination = (props) => <Pagination rowsPerPageOptions={[10, 25, 50, 100]} {...props} />\n\nexport const RecipeList = (props) => (\n  <List {...props} filters={<RecipeFilter />} bulkActionButtons={false} perPage={100} pagination={<PostPagination />}>\n    <Datagrid rowClick=\"show\">\n      <TextField source=\"title\" />\n      <StarRow source=\"rating\" />\n      <NumberField source=\"servings\" />\n      <ReferenceField source=\"category_id\" reference=\"categories\">\n        <TextField source=\"name\" />\n      </ReferenceField>\n    </Datagrid>\n  </List>\n)\n\nexport const RecipeShow = (props) => (\n  <Show {...props} title={<PostTitle />}>\n    <SimpleShowLayout>\n      <RecipeShowTitle source=\"title\" />\n      <RecipeShowHeader />\n      <RecipeShowRichText source=\"ingredients\" {...props} />\n      <RecipeShowRichText source=\"directions\" {...props} />\n    </SimpleShowLayout>\n  </Show>\n)\n\nconst toolbarOptions = [\n  ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n\n  [{ list: 'ordered' }, { list: 'bullet' }],\n  [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n  [{ direction: 'rtl' }], // text direction\n\n  [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\n  // [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n  [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n  [{ font: [] }],\n  [{ align: [] }],\n  ['clean'],\n]\n\nconst RecipeForm = () => (\n  <SimpleForm>\n    <TextInput source=\"title\" />\n    <NumberInput source=\"rating\" validate={validateRating} />\n    <NumberInput source=\"servings\" />\n    <TextInput source=\"duration_free\" label=\"Duration\" />\n    <ReferenceInput source=\"category_id\" reference=\"categories\">\n      <SelectInput optionText=\"name\" />\n    </ReferenceInput>\n    <RichTextInput source=\"ingredients\" toolbar={toolbarOptions} />\n    <RichTextInput source=\"directions\" toolbar={toolbarOptions} />\n  </SimpleForm>\n)\n\nexport const RecipeEdit = (props) => (\n  <Edit {...props} title={<PostTitle />}>\n    {RecipeForm()}\n  </Edit>\n)\n\nexport const RecipeCreate = (props) => (\n  <Create {...props} title={<PostTitle />}>\n    {RecipeForm()}\n  </Create>\n)\n","import React from 'react'\nimport {\n  DateField,\n  Filter,\n  SelectInput,\n  ReferenceInput,\n  Show,\n  NumberInput,\n  RichTextField,\n  ShowView,\n  SimpleShowLayout,\n  Create,\n  Edit,\n  TextInput,\n  SimpleForm,\n  NumberField,\n  List,\n  Datagrid,\n  TextField,\n} from 'react-admin'\n\nexport const CategoryCreate = (props) => (\n  <Create {...props}>\n    <SimpleForm>\n      <TextInput source=\"name\" />\n    </SimpleForm>\n  </Create>\n)\n\nexport const CategoryList = (props) => (\n  <List {...props}>\n    <Datagrid rowClick=\"edit\">\n      <TextField source=\"name\" />\n    </Datagrid>\n  </List>\n)\n\nexport const CategoryEdit = (props) => (\n  <Edit {...props}>\n    <SimpleForm>\n      <TextInput source=\"name\" />\n    </SimpleForm>\n  </Edit>\n)\n\nexport const CategoryShow = (props) => (\n  <Show {...props}>\n    <SimpleShowLayout>\n      <TextField source=\"name\" />\n      <DateField source=\"created_at\" />\n      <DateField source=\"updated_at\" />\n    </SimpleShowLayout>\n  </Show>\n)\n","export default {\n  // called when the user attempts to log in\n  login: ({ username, password }) => {\n    // Reject unless special username provided\n    if (username !== 'foodGoesNomNom') {\n      return Promise.reject()\n    }\n    // If somebody uses the special username they still won't know the password\n    // Thus the page will just keep spitting out an error\n    localStorage.setItem('key', password)\n    // Hack to force App to update to get the proper dataProvider\n    window.location.reload()\n    return Promise.resolve()\n  },\n  // called when the user clicks on the logout button\n  logout: () => {\n    localStorage.removeItem('key')\n    return Promise.resolve()\n  },\n  // called when the API returns an error\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem('key')\n      return Promise.reject()\n    }\n    return Promise.resolve()\n  },\n  // called when the user navigates to a new location, to check for authentication\n  checkAuth: () => {\n    return localStorage.getItem('key') ? Promise.resolve() : Promise.reject()\n  },\n  // called when the user navigates to a new location, to check for permissions / roles\n  getPermissions: () => Promise.resolve(),\n}\n","import MenuBookIcon from '@material-ui/icons/MenuBook'\nimport CategoryIcon from '@material-ui/icons/Category'\nimport React, { Component } from 'react'\nimport buildHasuraProvider from 'ra-data-hasura-graphql'\nimport { Admin, Resource } from 'react-admin'\nimport ApolloClient from 'apollo-boost'\nimport { RecipeList, RecipeEdit, RecipeCreate, RecipeShow } from './components/recipes'\nimport { CategoryCreate, CategoryList, CategoryEdit, CategoryShow } from './components/categories'\nimport authProvider from './authProvider'\n\nconst preAuthDataProvider = {\n  getList: () => Promise.resolve({ data: [] }),\n  getOne: () => Promise.resolve(null),\n  getMany: () => Promise.resolve(null),\n  getManyReference: () => Promise.resolve(null),\n  create: () => Promise.resolve(null),\n  update: () => Promise.resolve(null),\n  updateMany: () => Promise.resolve(null),\n  delete: () => Promise.resolve(null),\n  deleteMany: () => Promise.resolve(null),\n}\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = { dataProvider: null }\n  }\n\n  async componentDidMount() {\n    const key = localStorage.getItem('key')\n    if (!key) {\n      this.setState({ dataProvider: preAuthDataProvider })\n      return\n    }\n    const headers = {\n      'content-type': 'application/json',\n      'x-hasura-admin-secret': key,\n    }\n    const client = new ApolloClient({\n      uri: 'https://floating-meadow-53258.herokuapp.com/v1/graphql',\n      headers,\n    })\n\n    const dataProvider = await buildHasuraProvider({ client })\n    this.setState({ dataProvider })\n  }\n\n  async componentDidUpdate() {\n    const key = localStorage.getItem('key')\n    const { dataProvider } = this.state\n    if (dataProvider === null && key) {\n      const headers = {\n        'content-type': 'application/json',\n        'x-hasura-admin-secret': key,\n      }\n      const client = new ApolloClient({\n        uri: 'https://floating-meadow-53258.herokuapp.com/v1/graphql',\n        headers,\n      })\n\n      const newDataProvider = await buildHasuraProvider({ client })\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ dataProvider: newDataProvider })\n    }\n  }\n\n  render() {\n    const { dataProvider } = this.state\n\n    if (!dataProvider) {\n      return <div>Loading</div>\n    }\n\n    return (\n      <Admin dataProvider={dataProvider} authProvider={authProvider}>\n        <Resource\n          name=\"recipes\"\n          show={RecipeShow}\n          list={RecipeList}\n          edit={RecipeEdit}\n          create={RecipeCreate}\n          icon={MenuBookIcon}\n        />\n        <Resource\n          name=\"categories\"\n          show={CategoryShow}\n          list={CategoryList}\n          edit={CategoryEdit}\n          create={CategoryCreate}\n          icon={CategoryIcon}\n        />\n      </Admin>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { BrowserRouter } from \"react-router-dom\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}